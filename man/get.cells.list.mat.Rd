% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/preprocess.R
\name{get.cells.list.mat}
\alias{get.cells.list.mat}
\title{Create .cells Object from Count Matrices}
\usage{
get.cells.list.mat(.count.mat.list, .meta, .compress = FALSE, .verbose = TRUE)
}
\arguments{
\item{.count.mat.list}{Named list of count matrices, one per sample. Names must match
\code{rownames(.meta)}. Each matrix can be dense, sparse (dgCMatrix), or similar matrix-like
object with features as rows and cells as columns.}

\item{.meta}{Data frame with sample-level metadata. Rownames must match \code{names(.count.mat.list)}.
Should include experimental variables like Condition, Replicate, etc.}

\item{.compress}{Logical: compress RDS files? Default FALSE for faster I/O. Set TRUE to save disk
space for large datasets.}

\item{.verbose}{Logical: print progress messages? Default TRUE.}
}
\value{
Named list of file paths to temporary RDS files, one per sample. Structure suitable for
\code{setup.lm.obj(.cells = ...)}.
}
\description{
Converts a list of count matrices into tinydenseR's standardized .cells format. Each matrix
represents one sample and is saved as a temporary RDS file for memory-efficient processing.
Use this when you already have count data loaded in R memory.
}
\details{
This function creates temporary RDS files containing each sample's count matrix. These files
persist for the R session and allow tinydenseR to process data without loading all samples
into memory simultaneously.

All matrices in \code{.count.mat.list} should have:
\itemize{
\item Same feature names (rownames) across samples
\item Cell barcodes as column names
\item Raw or normalized counts (specify via \code{setup.lm.obj(.assay.type = ...)})
}
}
\examples{
\dontrun{
# Load example trajectory data
trajectory_data <- fetch_trajectory_data()
sim_trajectory.meta <- trajectory_data$meta
sim_trajectory <- trajectory_data$SCE
  
# Prepare sample-level metadata
sim_trajectory.meta <- sim_trajectory.meta[, c("Condition", "Replicate", "Sample")] |>
  unique()
rownames(sim_trajectory.meta) <- sim_trajectory.meta$Sample

# Extract count matrices for two samples
count.matrices <- list(
  A_R1 = SingleCellExperiment::counts(sim_trajectory)[, 
           sim_trajectory$Sample == "A_R1"],
  B_R1 = SingleCellExperiment::counts(sim_trajectory)[, 
           sim_trajectory$Sample == "B_R1"]
)

# Create .cells object
cells <- get.cells.list.mat(.count.mat.list = count.matrices,
                            .meta = sim_trajectory.meta[c("A_R1", "B_R1"), ])

# Use in tinydenseR workflow
lm.obj <- setup.lm.obj(.cells = cells,
                       .meta = sim_trajectory.meta[c("A_R1", "B_R1"), ],
                       .assay.type = "RNA")
}

}
\seealso{
\code{\link{get.cells}} for automatic format detection,
\code{\link{get.cells.SCE}} for SingleCellExperiment input,
\code{\link{setup.lm.obj}} for next step in workflow
}
