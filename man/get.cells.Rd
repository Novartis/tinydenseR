% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/preprocess.R
\name{get.cells}
\alias{get.cells}
\title{Create .cells Object with Automatic Format Detection}
\usage{
get.cells(
  .exprs,
  .meta,
  .sample.var = NULL,
  .assay = "RNA",
  .layer.pattern = "counts",
  .slot = "counts",
  .min.cells.per.sample = 10,
  .compress = FALSE,
  .verbose = TRUE
)
}
\arguments{
\item{.exprs}{Expression data in one of three formats:
\itemize{
\item Named list of count matrices (calls \code{get.cells.list.mat})
\item Seurat object v4 or v5 (calls \code{get.cells.Seurat} or \code{get.cells.Seurat5})
\item SingleCellExperiment object (calls \code{get.cells.SCE})
}}

\item{.meta}{Data frame with sample-level metadata. Required for list input. Rownames must match
sample IDs. For Seurat/SCE, rownames must match values in \code{.sample.var} column.}

\item{.sample.var}{Character: metadata column identifying samples. Required for Seurat/SCE,
ignored for list input.}

\item{.assay}{Character: assay name. Default "RNA" for Seurat, "counts" for SCE. Ignored for
list input.}

\item{.layer.pattern}{Character: layer name pattern for Seurat v5. Default "counts". Ignored
for other formats.}

\item{.slot}{Character: data slot for Seurat v4. Default "counts". Ignored for other formats.}

\item{.min.cells.per.sample}{Integer: minimum cells per sample. Default 10. Ignored for list input.}

\item{.compress}{Logical: compress RDS files? Default FALSE.}

\item{.verbose}{Logical: print progress messages? Default TRUE.}
}
\value{
Named list of file paths to temporary RDS files, one per sample.
}
\description{
Convenience wrapper that automatically detects input format and calls the appropriate conversion
function. Supports Seurat (v4/v5), SingleCellExperiment, and list of count matrices. Simplifies
workflow by eliminating need to know which specific function to call.
}
\details{
This function inspects the class of \code{.exprs} to determine format:
\itemize{
\item \code{Seurat}: Checks for Assay5 class to distinguish v4 from v5
\item \code{SingleCellExperiment}: Maps "RNA" assay to "counts" if needed
\item \code{list}: Validates names match \code{.meta} rownames
}

For Seurat v5, automatically handles layered data structure. For SCE, uses standard
\code{assay()} accessor.
}
\examples{
\dontrun{
# Example 1: List of count matrices
count.matrices <- list(A_R1 = counts.A_R1, B_R1 = counts.B_R1)
cells <- get.cells(.exprs = count.matrices,
                   .meta = sim_trajectory.meta[c("A_R1", "B_R1"), ])

# Example 2: Seurat object (auto-detects v4 vs v5)
cells <- get.cells(.exprs = seurat.obj,
                   .meta = sim_trajectory.meta,
                   .sample.var = "sample_id")

# Example 3: SingleCellExperiment object
cells <- get.cells(.exprs = sce.obj,
                   .meta = sim_trajectory.meta,
                   .sample.var = "Sample",
                   .assay = "counts")
}

}
\seealso{
\code{\link{get.cells.list.mat}}, \code{\link{get.cells.Seurat}},
\code{\link{get.cells.Seurat5}}, \code{\link{get.cells.SCE}}, \code{\link{setup.lm.obj}}
}
